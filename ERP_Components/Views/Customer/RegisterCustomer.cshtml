@using ERP_Component_DAL.Models;
@{
    ViewBag.Title = "Register Customer";
    Layout = "~/Views/Shared/_LayoutINV.cshtml";
}

<link rel="stylesheet" href="~/css/Product.css" />
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>


<div class="container">
    <form asp-action="RegisterCustomer" asp-controller="Customer" enctype="multipart/form-data">
        <div class="section-toggle" data-target="BasicDetails">👤 Basic Details <i class="fas fa-chevron-down"></i></div>
        <div id="BasicDetails" class="form-section">
            <div class="form-row">
                <label class="required" for="CustomerName">Customer Name</label>
                <input type="text" id="CustomerName" name="CustomerName" required />
                <label class="required" for="Email">Email</label>
                <input type="email" id="Email" name="Email" />
            </div>
            <div class="form-row">
                <label class="required" for="gstin">GST No</label>
                <input type="text" id="gstin" name="GstIn" maxlength="15" placeholder="Enter GST Number" />
                <input id="vendorCode" name="VendorCode" type="hidden" />

                <label class="required" for="panno">PAN No</label>
                <input type="text" id="panno" name="PAN" maxlength="10" placeholder="ABCDE1234F" />
            </div>
            <div class="form-row">
                <label class="required" for="Contact">Contact No</label>
                <input type="text" id="Contact" name="ContactNo" />

                <label class="required" for="alterContactNo">Alternate Contact No</label>
                <input type="text" id="alterContactNo" name="alterContactNo" />
            </div>
        </div>

        <div class="section-toggle" data-target="BillingDetails">💳 Billing Details <i class="fas fa-chevron-down"></i></div>
        <div id="BillingDetails" class="form-section">
            <div class="form-row">
                <label class="required" for="country">Country</label>
                <select id="country" name="Country">
                    <option>India</option>
                </select>
                <label class="required" for="state">State</label>
                <select id="state" name="State"></select>
            </div>
            <div class="form-row">
                <label class="required" for="district">District</label>
                <select id="district" name="District"></select>
                <label class="required" for="city">City</label>
                <input type="text" id="city" name="City" />
            </div>
            <div class="form-row">
                <label class="required" for="pin">Pin Code</label>
                <input type="text" id="pin" name="PinCode" />
                <label class="required" for="address">Address (Line1)</label>
                <input type="text" id="address" name="Address" />
            </div>
        </div>

        <div class="section-toggle" data-target="ShippingDetails">🚚 Shipping Details <i class="fas fa-chevron-down"></i></div>
        <div id="ShippingDetails" class="form-section">
            <div class="form-row">
                <label class="required" for="shipName">Customer Name</label>
                <input type="text" id="shipName" name="ShippingCustomerName" />
                <label class="required" for="shipContact">Contact No</label>
                <input type="text" id="shipContact" name="ShippingContactNo" />
            </div>
            <div class="form-row">
                <label class="required" for="Street">Street/Locality</label>
                <input type="text" name="Street" />
                <label class="required" for="Area">Area</label>
                <input type="text" id="Area" name="Area" />
            </div>
            <div class="form-row">
                <label class="required" for="ShippingState">State</label>
                <input id="ShippingState" name="State" />

                <label class="required" for="ShippingDistrict">District</label>
                <input id="ShippingDistrict" name="District" />
            </div>
            <div class="form-row">
                <label class="required" for="ShippingCity">City</label>
                <input type="text" id="ShippingCity" name="City" />

                <label class="required" for="ShippingPinCode">PinCode</label>
                <input type="text" id="ShippingPinCode" name="PinCode" />
            </div>
            <div class="form-row" style="width:50%">
                <label class="required" for="other">Other Reference</label>
                <input id="other" name="other" />
            </div>
        </div>

        <div class="section-toggle" data-target="OpeningBalance">📊 Opening Balance <i class="fas fa-chevron-down"></i></div>
        <div id="OpeningBalance" class="form-section">
            <div class="form-row">
                <label class="required" for="date">As On Date</label>
                <input type="date" id="date" name="OpeningDate" />
                <label class="required" for="Balance">Balance</label>
                <input type="text" id="Balance" name="Balance" />
            </div>
            <div class="form-row" style="width:50%">
                <label class="required" for="mode">Mode</label>
                <select id="mode" name="Mode">
                    <option>Credit</option>
                    <option>Debit</option>
                </select>
            </div>
        </div>

        <div class="button">
            <button type="reset">Reset</button>
            <button type="submit">Submit</button>
        </div>
    </form>
</div>

<script>
    document.querySelectorAll('.section-toggle').forEach(toggle => {
        toggle.addEventListener('click', () => {
            const targetId = toggle.getAttribute('data-target');
            const targetSection = document.getElementById(targetId);

            document.querySelectorAll('.form-section').forEach(section => section.style.display = 'none');
            document.querySelectorAll('.section-toggle').forEach(header => header.classList.remove('active'));

            targetSection.style.display = 'block';
            targetSection.style.marginBlock = '0px';
            toggle.classList.add('active');
        });
    });

    window.addEventListener('DOMContentLoaded', () => {
        const firstToggle = document.querySelector('.section-toggle');
        if (firstToggle) firstToggle.click();
    });
</script>
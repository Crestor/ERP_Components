@using ERP_Component_DAL.Models;
@{
    ViewBag.Title = "View Worker";
    Layout = "~/Views/Shared/_LayoutINV.cshtml";
}
@model Worker

<link rel="stylesheet" href="~/css/Product.css" />

<div class="button justify-content-start">
    <button class="tab-btn active" data-section="Weaver" onclick="showSection('Weaver')">Weaver</button>
    <button class="tab-btn" data-section="Dyer" onclick="showSection('Dyer')">Dyer</button>
</div>

<!-- Weaver Section -->
<div id="Weaver" class="vender-section" style="display: block;">
    <table>
        <thead>
            <tr>
                <th>Sr no</th>
                <th>Name</th>
                <th>Contact no</th>
                <th>Firm</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < Model.Weavers.Count; i++)
            {
                <tr>
                    <td>@(i + 1)</td>
                    <td>@Model.Weavers[i].WorkerName</td>
                    <td>@Model.Weavers[i].ContactNumber</td>
                    <td>@Model.Weavers[i].Firm</td>
                    <td>
                        <div class="button">
                            <button onclick="location.href='@Url.Action("EditWorker", "Weaver", new { id = Model.Weavers[i].WorkerId })'">Edit</button>
                            <button onclick="location.href='@Url.Action("DeleteWorker", "Weaver", new { id = Model.Weavers[i].WorkerId })'">Delete</button>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<!-- Dyer Section -->
<div id="Dyer" class="vender-section" style="display: none;">
    <table>
        <thead>
            <tr>
                <th>Sr no</th>
                <th>Name</th>
                <th>Contact no</th>
                <th>Firm</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            @for (int i = 0; i < Model.Dyers.Count; i++)
            {
                <tr>
                    <td>@(i + 1)</td>
                    <td>@Model.Dyers[i].WorkerName</td>
                    <td>@Model.Dyers[i].ContactNumber</td>
                    <td>@Model.Dyers[i].Firm</td>
                    <td>
                        <div class="button">
                            <button onclick="location.href='@Url.Action("EditWorker", "Weaver", new { id = Model.Dyers[i].WorkerId })'">Edit</button>
                            <button onclick="location.href='@Url.Action("DeleteWorker", "Weaver", new { id = Model.Dyers[i].WorkerId })'">Delete</button>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<!-- Tab Switching Script -->
<script>
    function showSection(sectionId) {
        // Hide all sections
        document.querySelectorAll('.vender-section').forEach(el => {
            el.style.display = 'none';
        });

        // Show selected section
        const target = document.getElementById(sectionId);
        if (target) {
            target.style.display = 'block';
        }

        // Update tab button styles
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
        const clickedBtn = document.querySelector(`.tab-btn[data-section="${sectionId}"]`);
        if (clickedBtn) {
            clickedBtn.classList.add('active');
        }
    }
</script>
